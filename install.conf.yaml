# dotbot configuration

- defaults:
    link:
      create: true
      relink: true
    shell:
      stdout: true
      quiet: true

- link:
    ~/.zshrc: zsh/zshrc.symlink
    ~/.bashrc: bash/bashrc.symlink
    ~/.vimrc: vim/vimrc.symlink
    ~/.gitconfig: git/gitconfig.symlink
    ~/.config/proxy: zsh/shell-proxy.conf

- create:
    - ~/.local/bin

- shell:
  - command: |-
      if ! command -v brew &> /dev/null; then
        /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
      fi
    description: Install homebrew

  - command: |-
      if ! command -v zsh &> /dev/null; then
        brew install antibody
        antibody bundle < ${DOTFILES:-$HOME/.dotfiles}/zsh/zsh_plugins.txt > $HOME/.zsh_plugins.sh
        source ~/.zshrc
      fi
    description: Install antibody

  - command: |-
      if ! [ -f ~/.vim_runtime/vimrcs/basic.vim ]; then
        git clone --depth=1 https://github.com/amix/vimrc.git ~/.vim_runtime
        sh ~/.vim_runtime/install_awesome_vimrc.sh
      fi
    description: Install awesome vimrcs

  - command: |-
      brew install git-delta jq exa tldr bat autojump
    description: Install brew formulae
